---
import Base from '../../layouts/Base.astro';
import { getCollection } from 'astro:content';

export const getStaticPaths = async () => {
  return (await getCollection('docs'))
    .filter((entry) => entry.data.order != 0)
    .sort((a, b) => a.data.order - b.data.order)
    .map((entry) => ({
      params: { slug: entry.slug },
      props: { entry }
    }));
};

const { entry } = Astro.props;
const { Content } = await entry.render();
---

<Base title={entry.data.title} description={entry.data.description} slug={entry.slug}>
  <h1>{entry.data.title}</h1>
  <Content />
</Base>
